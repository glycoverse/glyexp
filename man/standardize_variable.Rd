% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/standardize-variable.R
\name{standardize_variable}
\alias{standardize_variable}
\title{Standardize variable IDs in an experiment}
\usage{
standardize_variable(exp, format = NULL, unique_suffix = "-{N}")
}
\arguments{
\item{exp}{An \code{\link[=experiment]{experiment()}}.}

\item{format}{A format string specifying how to construct variable IDs.
Use \code{{column_name}} to insert values from \code{var_info} columns.
For example, \code{"{gene}-{glycan_composition}"} would produce "GENE1-Hex(5)".
If \code{NULL} (default), a sensible format is chosen based on \code{exp_type}.}

\item{unique_suffix}{A string pattern for making IDs unique when duplicates exist.
Must contain \code{{N}} which will be replaced with the numeric suffix (1, 2, 3...).
Default is \code{"-{N}"} which produces IDs like "Hex(5)-1", "Hex(5)-2".}
}
\value{
The experiment with standardized variable IDs, invisibly.
}
\description{
Converts meaningless variable IDs (like "GP1", "V1") into meaningful,
human-readable IDs based on the experiment type and available columns.

The format of the new IDs depends on the \code{exp_type} if \code{format} is not specified:
\itemize{
\item \code{glycomics}: \code{{glycan_composition}}, e.g., "Hex(5)HexNAc(2)"
\item \code{glycoproteomics}: \code{{protein}-{protein_site}-{glycan_composition}} or
\code{{protein}-{glycan_composition}} if no \code{protein_site} column exists
\item \code{traitomics}: \code{{motif}} or \code{{trait}} depending on which column is present
\item \code{traitproteomics}: \code{{protein}-{protein_site}-{motif}} or \code{{protein}-{protein_site}-{trait}}
}

If duplicate IDs are generated (e.g., same composition with multiple PSMs),
a unique integer suffix is appended using the \code{unique_suffix} pattern.
}
\examples{
# Glycomics example
expr_mat <- matrix(1:4, nrow = 2)
rownames(expr_mat) <- c("V1", "V2")
colnames(expr_mat) <- c("S1", "S2")
sample_info <- tibble::tibble(sample = c("S1", "S2"))
var_info <- tibble::tibble(
  variable = c("V1", "V2"),
  glycan_composition = glyrepr::glycan_composition(c(Hex = 5, HexNAc = 2))
)
exp <- experiment(expr_mat, sample_info, var_info,
  exp_type = "glycomics", glycan_type = "N"
)
standardize_variable(exp)

# Glycoproteomics example
expr_mat <- matrix(1:4, nrow = 2)
rownames(expr_mat) <- c("GP1", "GP2")
colnames(expr_mat) <- c("S1", "S2")
sample_info <- tibble::tibble(sample = c("S1", "S2"))
var_info <- tibble::tibble(
  variable = c("GP1", "GP2"),
  protein = c("P12345", "P12345"),
  protein_site = c(32L, 45L),
  glycan_composition = glyrepr::glycan_composition(c(Hex = 5, HexNAc = 2))
)
exp <- experiment(expr_mat, sample_info, var_info,
  exp_type = "glycoproteomics", glycan_type = "N"
)
standardize_variable(exp)

# Custom format example
\dontrun{
standardize_variable(exp, format = "{protein}-{glycan_composition}")
}

}
